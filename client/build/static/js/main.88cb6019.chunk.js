(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(68)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(27),c=a.n(o),l=(a(35),a(4)),s=a(5),r=a(7),m=a(6),u=a(8),d=(a(36),a(3)),p=a(13),g=(a(37),a(1)),h=a.n(g),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).searchMedicines=function(e){e.preventDefault();var t=e.target.value;a.setState({term:t})},a.loadMore=function(){a.setState({isLoading:!0}),h.a.get("https://medicento-api.herokuapp.com/api/get_medicines_of_master/"+a.state.term+"?pagno="+a.state.pageno).then(function(e){a.setState({inventory_master:e.data.medicines,pageno:a.state.pageno+1,isLoading:!1})}).catch(function(e){console.log(e)})},a.loadMoreInventory=function(){a.setState({isLoading:!0}),""!=a.state.term?h.a.get("https://medicento-api.herokuapp.com/api//get_medicines_of_distributor/"+a.state.term+"?pagno="+a.state.pageno_i+"&name="+a.state.selected_inventory).then(function(e){console.log(e),a.setState({inventory_medicines:e.data.medicines,pageno_i:a.state.pageno_i+1,isLoading:!1})}).catch(function(e){console.log(e)}):h.a.get("https://medicento-api.herokuapp.com/api/get_unmapped/"+a.state.mapped+"/"+a.state.selected_inventory+"?pagno="+a.state.pageno_i).then(function(e){console.log(e),a.setState({inventory_medicines:e.data.medicines,pageno_i:a.state.pageno_i+1,isLoading:!1})}).catch(function(e){console.log(e)})},a.submitSearch=function(e){e.preventDefault(),""===a.state.term?alert("Please Enter Search KeyWord !"):(a.setState({isLoading:!0,pageno_i:0}),h.a.get("https://medicento-api.herokuapp.com/api/get_medicines_of_distributor/"+a.state.term+"?pagno=0&name="+a.state.selected_inventory).then(function(e){console.log(e),a.setState({inventory_medicines:e.data.medicines,pageno_i:1}),h.a.get("https://medicento-api.herokuapp.com/api/get_medicines_of_master/"+a.state.term+"?pagno="+a.state.pageno).then(function(e){a.setState({inventory_master:e.data.medicines,pageno:1,isLoading:!1})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}))},a.addProductId=function(e,t){a.setState({isLoading:!0}),t.preventDefault(),console.log(a.state.inputValues[e]),h.a.get("https://medicento-api.herokuapp.com/api/updateMedicines?mapped_id="+a.state.inputValues[e]).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},a.changeItem=function(e,t){var n=a.state.inputValues;n[e]=t.target.value,a.setState({inputValues:n})},a.mapped=function(e){a.setState({isLoading:!0});var t=e.target.value;console.log(t),h.a.get("https://medicento-api.herokuapp.com/api/get_unmapped/"+t+"/"+a.state.selected_inventory).then(function(e){a.setState({inventory_medicines:e.data.medicines,mapped:t,isLoading:!1})}).catch(function(e){console.log(e)})},a.addMedicines=function(e){e.preventDefault();var t=e.target.value;a.setState({add:t})},a.addProd=function(e){a.setState({isLoading:!0}),e.preventDefault(),h.a.get("https://medicento-api.herokuapp.com/api/addMedicines/"+a.state.add).then(function(e){a.setState({isLoading:!0})}).catch(function(e){console.log(e)})},a.state={selected_inventory:e.match.params.id,inventory_master:[],inventory_medicines:[],term:"",pageno:0,pageno_i:0,count_of_unmappped:0,mapped:"NotMapped",inputValues:[],isLoading:!0,add:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;h.a.get("https://medicento-api.herokuapp.com/api/total_unmapped/"+this.state.selected_inventory).then(function(t){e.setState({count_of_unmappped:t.data.count}),h.a.get("https://medicento-api.herokuapp.com/api/get_unmapped/"+e.state.mapped+"/"+e.state.selected_inventory+"?pagno="+e.state.pageno).then(function(t){e.setState({inventory_medicines:t.data.medicines,pageno_i:e.state.pageno_i+1,isLoading:!1})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.inventory_medicines,a=this.state.inventory_master;return i.a.createElement("div",{className:"inventory_selection"},i.a.createElement("div",{class:"container",style:{marginTop:"20px"}},i.a.createElement(d.b,{to:"/inventory_selection"},i.a.createElement("button",{className:"btn btn-primary"},"Change Distributor")),i.a.createElement("h3",null,"Parshva Distributor"),i.a.createElement("div",null,"Total Unmapped - ",this.state.count_of_unmappped),i.a.createElement("form",{onSubmit:this.submitSearch},i.a.createElement("div",{class:"form-group"},i.a.createElement("input",{type:"text",placeholder:"search medicine",className:"form-control",onChange:this.searchMedicines})),i.a.createElement("div",{class:"form-group"},i.a.createElement("input",{type:"submit",value:"Search",className:"btn btn-primary"}))),this.state.isLoading?i.a.createElement("div",{className:"loader"},i.a.createElement("img",{src:"https://wpamelia.com/wp-content/uploads/2018/11/ezgif-2-6d0b072c3d3f.gif",height:"100",width:"250",alt:""})):null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12",style:{marginBottom:"10px"}},i.a.createElement("button",{className:"btn btn-primary",onClick:this.loadMore},"Next")," ","Page ",this.state.pageno,i.a.createElement("form",{onSubmit:this.addProd},i.a.createElement("div",{class:"form-group"},i.a.createElement("input",{type:"text",placeholder:"add medicine",style:{width:"80%"},onChange:this.addMedicines}),i.a.createElement("input",{type:"submit",value:"Add New",className:"btn btn-primary"}))),i.a.createElement("br",null)),i.a.createElement("table",{className:"table col-md-6"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Medicento Name"),i.a.createElement("th",null,"Add"))),i.a.createElement("tbody",null,a.map(function(t,a){return i.a.createElement("tr",null,i.a.createElement("td",{scope:"row"},t.Item_name),i.a.createElement("td",null,i.a.createElement("form",{action:"",onSubmit:function(t){e.addProductId(a,t)}},i.a.createElement("input",{type:"text",name:"item_code",onChange:function(t){return e.changeItem(a,t)}}),i.a.createElement("input",{type:"text",name:"item_id",value:t._id,style:{display:"none"}}),i.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-success"}))))}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("select",{name:"mapping",id:"",onChange:this.mapped},i.a.createElement("option",{value:"Mapped"},"Mapped"),i.a.createElement("option",{value:"NotMapped",selected:!0},"Un Mapped")),i.a.createElement("button",{className:"btn btn-primary",onClick:this.loadMoreInventory,style:{marginLeft:"10px"}},"Next")," ","Page ",this.state.pageno_i,i.a.createElement("table",{className:"table",style:{marginTop:"10px"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Item Code"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"PTR"),i.a.createElement("th",null,"Manfacturer"),i.a.createElement("th",null,"Status"))),i.a.createElement("tbody",null,0==t.length?i.a.createElement("div",null,"No Data"):null,t.map(function(e,t){return i.a.createElement("tr",null,i.a.createElement("td",null,e.item_code),i.a.createElement("td",null,e.Item_name),i.a.createElement("td",null,e.mrp),i.a.createElement("td",null,e.manfc_name),i.a.createElement("td",null,e.unmapped))})))))))}}]),t}(n.Component),b=Object(p.d)(v),E=(a(65),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).changeCity=function(e){var t=e.target.value;h.a.get("https://medicento-api.herokuapp.com/api/get_city_by_state?state_id="+t).then(function(e){a.setState({cities:e.data.cities,selected_city:e.data.cities[0]})}).catch(function(e){console.log(e)})},a.changeDistributor=function(e){for(var t=[],n=0;n<a.state.all_inventories.length;n++)a.state.all_inventories[n].city==e&&t.push(a.state.all_inventories[n]);a.setState({inventory:t})},a.state={total_distributor_number:0,upmapped_distributor_number:0,states:[],cities:[],all_inventories:[],inventory:[],selected_city:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://medicento-api.herokuapp.com/api/get_states").then(function(t){e.setState({states:t.data.states,cities:t.data.cities,selected_city:t.data.cities[0]})}).catch(function(e){console.log(e)}),h.a.get("https://medicento-api.herokuapp.com/api/getDistributorbyCity").then(function(t){e.setState({all_inventories:t.data.distributors,total_distributor_number:t.data.distributors.length,upmapped_distributor_number:t.data.distributors.length})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){this.state.total_distributor_number,this.state.upmapped_distributor_number;var e=this.state.states,t=this.state.cities,a=[];return void 0!=this.state.selected_city&&"Banglore"==this.state.selected_city.name&&(a=this.state.all_inventories),i.a.createElement("div",{className:"distributor_selection"},i.a.createElement("h1",{className:"upper_heading"},"Mapping Inventory"),i.a.createElement("div",{class:"container"},i.a.createElement("div",{className:"upper_heading_number"},i.a.createElement("div",{className:"total_distributor d-inline-block"},"Total Distributor = ",a.length),i.a.createElement("div",{className:"upmapped_distributor d-inline-block"},"Distributors With Unmapped Inventory = ",a.length)),i.a.createElement("br",null),i.a.createElement("div",{className:"select_state"},i.a.createElement("select",{name:"state",id:"state",onChange:this.changeCity},i.a.createElement("option",{value:"",disabled:!0},"Select State"),e.map(function(e,t){return i.a.createElement("option",{value:e._id,key:t},e.name)})),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("select",{name:"city",id:"city"},i.a.createElement("option",{value:"",disabled:!0},"Select City"),t.map(function(e,t){return i.a.createElement("option",{value:e._id,key:t},e.name)})),i.a.createElement("div",null,i.a.createElement("table",{className:"table",style:{marginTop:"10px"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Distributor Name"),i.a.createElement("th",null,"Edit Inventory"))),i.a.createElement("tbody",null,a.map(function(e){return i.a.createElement("tr",null,i.a.createElement("td",null,e.inventory_name),i.a.createElement("td",null,i.a.createElement(d.b,{to:"/inventory_mapping/"+e.medi_code+"/"},i.a.createElement("button",{className:"btn btn-primary"},"Edit"))))})))))))}}]),t}(n.Component)),_=(a(66),n.Component,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={is_logged_in:e.is_logged_in},a.changeLogin=e.changeLogin,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.is_logged_in;return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},i.a.createElement(d.b,{to:"/",className:"navbar-brand"},"Medicento"),i.a.createElement("button",{className:"navbar-toggler"},i.a.createElement("span",{className:"navbar-toggler-icon","data-toggle":"collapse","data-target":"#menu"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"menu"},t?i.a.createElement("ul",{className:"navbar-nav ml-auto"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(d.b,{to:"/inventory_selection",className:"nav-link"},"Distributor Selection")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(d.b,{to:"/login",className:"nav-link",onClick:function(){return e.changeLogin(!1)}},"Logout"))):i.a.createElement("ul",{className:"navbar-nav ml-auto"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")))))}}]),t}(n.Component)),f=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null)}}]),t}(n.Component),y=(a(67),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).setEamilValue=function(e){var t=e.target.value;a.setState({email:t})},a.setPasswordValue=function(e){var t=e.target.value;a.setState({password:t})},a.sendLoginRequest=function(e){e.preventDefault();var t=new FormData;t.append("email",a.state.email),t.append("password",a.state.password),console.log(t),h.a.post("https://medicento-api.herokuapp.com/api/login",t).then(function(e){"User Found"===e.data.message&&(a.changeLogin(!0),a.props.history.push("/"))}).catch(function(e){console.log(e)})},a.state={email:"",password:""},a.changeLogin=e.changeLogin,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"login"},i.a.createElement("div",{className:"container"},i.a.createElement("form",{className:"login_form",onSubmit:this.sendLoginRequest},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"exampleInputEmail"},"Email address"),i.a.createElement("input",{type:"email",className:"form-control",onChange:this.setEamilValue,id:"exampleInputEmail",placeholder:"Enter email"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"exampleInputPassword"},"Password"),i.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword",onChange:this.setPasswordValue,placeholder:"Password"})),i.a.createElement("div",{className:"form-group-submit"},i.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary"})))))}}]),t}(n.Component)),N=Object(p.d)(y),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={is_logged_in:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"changeLogin",value:function(e){this.setState({is_logged_in:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(d.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(_,{is_logged_in:this.state.is_logged_in,changeLogin:this.changeLogin.bind(this)}),i.a.createElement(p.a,{exact:!0,path:"/",component:f}),i.a.createElement(p.a,{path:"/inventory_mapping/:id",component:b}),i.a.createElement(p.a,{path:"/inventory_selection",component:E}),i.a.createElement(p.a,{path:"/login",render:function(){return i.a.createElement(N,{changeLogin:e.changeLogin.bind(e)})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.88cb6019.chunk.js.map